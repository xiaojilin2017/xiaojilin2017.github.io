---
layout:     post
title:      "一本技术书籍是如何出版的……"
subtitle:   "我的书"
date:       2017-02-22 00:00:01
author:     "Candycat"
header-img: "img/in-post/2017-02-22-book-second-edition/book-title.jpg"
tags:
    - 闲谈
---

会看这篇文章的人估计知道，额小妹不才之前写了一本书。已经过去了一段时间了，目前觉着趁着自己还有一些实践，打算对第一版本进行修缮写一下第二版（主要是看不过去一些书中的错误…），值此之际，写一下第一次出书的感悟。如果有朋友看到了这篇文章，同时也打算出书的话，希望这篇文章里面的一些事情和经历可以让你有所借鉴，少走一些弯路。

## 前因后果

我记得很清楚，当时是2015年的六月份，我的邮箱里出现了一封来自人民邮电出版社的编辑，打开之后着实吓了一跳，竟然有人要找我写书……之前的确也想过一些出版的时候，不过当时只是想着可以靠自己的能力翻译一本书，没错，那本书就是《Unity Shaders and Effects Cookbook》的第一版。很早之前，大概是大三的时候，我开始想要自己学习一下shader方面的东西，找到了这本书。这本书应该是当时国内外唯一一本讲Unity Shader的书，我也是因为在自己的博客里更新相关文章才为大家所知。因此，当时有电子工业出版社的人找到我想让我翻译，我当时很快就答应了，反正我在博客里已经翻译了很多了…………额不过后来小编告诉我他们没有拿到国外的版权（已经被机械工业出版社拿走了）啊哈哈哈哈…………这次不一样，因为是我重头开始自己写一本全新的书，我心里还是有点忐忑的。当然了，嘴上说不要身体却很诚实，我考虑了没多久还是答应了。我记得我当时满怀忐忑地和编辑说，我已经做好了被读者骂的准备了。编辑笑说，哪有那么严重啊。我会这么说，是因为我对国内技术书籍的出版现状表示比较委婉的无语，这就不用我多说了。而且我一个无名小辈，那么多大大都没著书……编辑会找到我，是因为他们之前的一个作者推荐了我。总之，我就这么接下了这活。

## 出书的过程

我个人出书的过程大概是这样的：

0. 和编辑讨论出版流程、版税（重要），双方达成共识。
1. 和编辑大概讨论后，我花了一周的时间定下了书的目录，以及一个样章。同时编辑给了我一个选题的表格，大概讲一下书的受众人群之类的。
2. 编辑拿到这些材料后，会在出版社申请书号以及后续的一些流程，随后就给我寄了一份合同来签约。
3. 之后就写书ing…………
4. 完成后将书稿交给编辑，由出版社进行排版等工作，这期间基本不需要我参与。
5. 排版后编辑发给我让我查看和修改，没问题后他们开始印刷，出版上市
6. 然后卖完就可以收钱了

我的写书工具：马克飞象+Markdown，然后用Pandoc转换成word。画图是用的OmniGraffle，好评。

不过每一步都有一点坑啊（偶尔也有大坑）……版税这个东西，我个人感觉如果不是什么大咖且是第一次出书的话每个作者应该都一样，感觉应该是他们出版界的规矩了。我当时货比两家，版税给的都一样，最后感觉人邮出版社的这个编辑资历比较长，所以最后选择了人邮出版社。我记得当时问编辑，我写书的时候会不会有人帮我审稿，万一我书里写错了什么有专业人士审稿的话能更有保障一点。当时编辑肯定地告诉我说，恩我们会请一些这方面的专业人士来看，请你放心。然而，并没有啊！！！此乃第一小坑。关于彩版的问题，我当时也问过，编辑当时说，恩我们可以等你写完再讨论，会尽力出彩版。恩当然后来也没有出彩版。其实吧，如果是我这种第一次出书的情况，基本不会出彩版的，出版社毕竟要为销量操心，彩版多的那几十块钱很多时候还是很重要的。前几天还有个人明目张胆地跟我说他在看我的盗版书籍，说买不起……就五十块钱啊……

书的目录也是很重要的，我当时大概翻看了我电脑里面所有相关的技术书籍的目录，也借鉴了不少。现在看来这个目录还不错，我后面写书的时候几乎没有改动，都是按照这个顺序来写的，所以写得时候还比较顺利。我印象里写书的时候最痛苦的地方有三章，首先就是数学章了，那公式打得我呀……我当时是用markdown写的，但编辑说他们不会用markdown，所以我前期调研了下确保markdown可以转成word才决定全书都使用markdown来写。虽说markdown打公式还比较方便，可是那几百个矩阵啊，每天打得我感觉手指都要抽筋了……然后就是高级光照那一章了，此时Unity闭源的弊端不能再明显了，官方文档大家也懂的，我每次写一个原理都要查证很久，生怕写错了。可是，最后还是逃不过人家版本升级啊……最后就是基于物理的渲染了，这一章主要是有很多比较复杂的公式和论文，我现在回过头来看我对第一版的这一章不怎么满意，现在已经重写了。其实整体来看，整个写书的过程还是挺愉快了，每天都很充实。由于担心自己的知识储备，每天都要看很多书和网页，感觉那段时间自己也学到了很多知识。年轻真好呀~

好了，书写完了，真正的大坑马上就要来了。我记得我交稿的时候是十一月份，所以整本书的写作时间大概是4、5个月，因为当时在读书还比较闲，所以基本大部分时间都用来看书写书了。我当时满心欢喜地以为2016年年前就能看到成书，事实证明太天真了啊。我基本每周都问一遍编辑，书排版的怎么样了，什么时候可以出版。编辑一开始说可能12月底可以排好，一月出版；到了十二月又说1月可以排好；到了一月说，雾霾天工厂都停工了所以延期，说年后发售销量会更好。期间，编辑有发过来一些他们审稿的照片，表示说他们排版都是要打印出来一页一页地看，很费功夫，让我不要着急。

终于终于，在三月份的时候编辑告诉了我好消息，排版终于排好了！我现在回想起来当时大概是由于太高兴所以疏忽大意了。当时，距离我把成稿交给编辑已经又过了四个月了，由于之前没有出过书没有经验，我拿到排版好的书稿后打算过一遍看有没有问题。我打开看了看前两章，发现没有什么太大的问题，加之我之前由markdown转为word的时候平均每章都看过2遍以上，这次再看就缺乏了耐心，加上对出版社的工作人员过于信任，由此犯了大错。我自己没有完整地把出版社的稿子过一遍，加上实验室的同学对这本书挺有兴趣，我就发给了他，让他一边看一边帮我检查一下，我自己就懈怠了……啊啊啊，我对不起读者大人们……后来的问题可能有些人也知道，数学一章出了非常大的问题，有非常多的公式出了问题。那天，我拿到编辑寄给我的样书，本来心情是非常美丽的，要知道我等了已经半年多了。可是当我看到数学那一章的时候，脑袋一下就热了，WTF？！当我心里无数次骂娘之后，我意识到现在的问题是………………TMD出版社是怎么排版的？！！！！………………额这是实话，我当时发给编辑的时候这一章看得遍数是最多的（大概有三四遍吧），就怕转换的时候公式出了问题，怎么现在成了这样。我在假装冷静地和编辑诉说之后，编辑表示会帮我去询问到底怎么回事。当然了，我也没闲着，发了条朋友圈求朋友安慰……

![wechat0](http://candycat1992.github.io/img/in-post/2017-02-22-book-second-edition/wechat0.jpg)

好了诉苦诉完了，说到底还是自己做事不够认真才会有这样的问题。当时已经印刷了2000册，这意味着有2000个读者看到的是这样的书，啊啊啊不要跟人说这书是我写的……我跟编辑说，我打算把这一章公开到网上，以此来减轻我的罪过。编辑也就同意了。后来编辑说，因为排版人员不熟悉、公式太多等等才出了这样的问题，向我道歉，并且表示已经说过了排版人员。

实际上，在这之前也发过好多次修改意见给出版社，这主要是依靠实验室的那个朋友在看书的时候给我反映的一些问题。其实这时候勘误的时候我就发现了排版人员有些粗心，比如上一次发给他的勘误还是没有改正，或者又改错了等等，只是我没有料到数学一章会出如此大的差错。而我的那个朋友由于嫌数学章太长他基础又比较好，所以也没有细看。我每次都想，只要排版人员多看那么一眼，或者我当时再看一遍数学章，也不可能会出这么多问题，不过，可能当时他任务很重，有很多排版工作，也可能当时他心情不好，只想快点完工，都只是为了混口饭吃而已。我猜测，出版社的排版人员是完全重新打了一遍我的所有公式，我一直以为他会直接粘贴，所以才如此放心。后来勘误的时候我发现，甚至连表格里的内容似乎也是手打的，并不是粘贴，因为也有一些严重的错误……所以，排版人员也是出了苦力的。

另一件有些坎坷的事情就是封面和开头的彩插了。封面的原稿是我内人设计的，但是后来发现编辑发给我的成稿上的封面设计署名却只有出版社的一个人。你懂得……感觉国内出版社很多地方版权意识都不够强，我之前看人邮出版的一些书籍，封面都很丑（实话），后来发现一张特别酷炫的封面，是cocos2d的一本书。我专门发给编辑问这也是出版社人员设计的吗？“嗯是啊”。我想，哇塞，原来有厉害的啊。后来我内人一看，这不是某某某游戏的海报么……么……么……不过好在跟编辑反映过后加上了内人的名字。

另外就是开头的彩插了。当时，编辑让我挑一些书里的插图，放在目录那里好看。我立马翻了一遍插图，精心挑了好几张打包成word，配好文字发给了编辑。谁知道天有不测风云，你永远跟不上出版社排版人员的思路……

![wechat1](http://candycat1992.github.io/img/in-post/2017-02-22-book-second-edition/wechat1.jpg)

恩，我挑的图一张都没有，对，就是一、张、都、没、有。逗我么啊哈哈哈……后来当然在我的据理力争下改过来了，恩，后来图片居中这些我也参与了修改。

出现了这么些事情，我内人看起来比我还气，我一边安慰他一边安慰我自己，大家都不容易，改了就好，改了就好。

## 呐，一些开心的事情

当然最开心的还是书最后是出版了，也有不少读者给了它不错的评价，我真的特别开心。有个读者说，“能感觉到作者满满的让读者也能真正学会写shader的心意”。恩，写这本书的时候心里最大的愿望就是这个了。当然啦，也有批评，不过我不想写下来哇哈哈哈哈~

## 最后的话

好了，你也看出来了这本质是一篇抱怨文哈哈哈哈。不过说实话，整个过程虽然出了些问题，但出版社编辑一直都是有问题随时沟通、出错就改、凡事好商量的态度，还是值得点赞的。出书不易，写完稿真的只是开始的一步，当然这一步很重要。我拿到样书的时候是5月份，书正式上架是6月份，所以，我写书是从2015.6到2015.11共四个月，排版以及上市共用了七个多月。虽然坎坷，但是还是得感谢各种工作人员和朋友。最后，写一些建议吧，希望后面可以有所借鉴：

* 一定一定一定不要过分相信和依赖出版社的工作人员。在我和编辑沟通的过程中，编辑一直都非常礼貌和客气，表现也很专业。只是遇到排版、设计封面等实实在在的工作上面，一定要自己认认真真地过一遍他们的工作。
* 尽管编辑会不停地告诉你，你只需要安心写书，其他的什么都不用操心，但是你可千万不能信啊。理由同上。（我只是想再强调一遍……）
* 拿到出版社排好的书稿后，一定要从头到尾、仔仔细细地看一遍。真的，他们有时会莫名其妙改掉你的稿子（不知道哪里来的知识和自信），有时会加上一些莫名其妙的东西，有时会引入新的错别字，有时会改掉你的专有名词大小写，有时会吞掉你的许多资源链接。总之，一定要看一遍。（当然我相信排版人员也应该帮我处理了很多错字……）
* 如果出版社让你在开头写上由出版社管理的QQ答疑群，相信我，千万不要让他们写上去。（我会告诉你里面有大量成人广告又没人管么……）
* 一般新书是不会出彩版的，所以写书的一开始最好就想好彩图的问题。我是放在了github上，但是很多读者没有看第一章所以压根不知道有彩图，常常抱怨图的标注问题。应该在重要彩图的地方时时刻刻提醒读者可以在网上找到彩图。源码也同样适用。
* 勘误很重要，盯着出版社勘误更加重要。因为出问题出怕了，后面但凡是勘误和修改问题，我都会要求出版社把修改后的稿子发给我，我会亲自再过一遍。
* 尽管我说了出版社很多坏话，但是沟通是最重要的，凡事好好说话。
* 出书是一件开心的事情，尤其是收到读者好评的时候。
* 最后，真正用心写书永远是最重要的事情。

